{"version":3,"sources":["../src/types.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2025 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Connection options for API calls, controlling retry and timeout behavior.\n */\nexport interface APIConnectOptions {\n  /** Maximum number of retries to connect to the API. Default: 3 */\n  maxRetry: number;\n  /** Interval between retries to connect to the API in milliseconds. Default: 2000 */\n  retryIntervalMs: number;\n  /** Timeout for connecting to the API in milliseconds. Default: 10000 */\n  timeoutMs: number;\n}\n\nexport const DEFAULT_API_CONNECT_OPTIONS: APIConnectOptions = {\n  maxRetry: 3,\n  retryIntervalMs: 2000,\n  timeoutMs: 10000,\n};\n\n/**\n * Return the interval for the given number of retries.\n * The first retry is immediate, and then uses specified retryIntervalMs.\n * @internal\n */\nexport function intervalForRetry(connOptions: APIConnectOptions, numRetries: number): number {\n  if (numRetries === 0) {\n    return 0.1;\n  }\n  return connOptions.retryIntervalMs;\n}\n\n/**\n * Connection options for the agent session, controlling retry and timeout behavior\n * for STT, LLM, and TTS connections.\n */\nexport interface SessionConnectOptions {\n  /** Connection options for speech-to-text. */\n  sttConnOptions?: Partial<APIConnectOptions>;\n  /** Connection options for the language model. */\n  llmConnOptions?: Partial<APIConnectOptions>;\n  /** Connection options for text-to-speech. */\n  ttsConnOptions?: Partial<APIConnectOptions>;\n  /** Maximum number of consecutive unrecoverable errors from LLM or TTS before closing the session. Default: 3 */\n  maxUnrecoverableErrors?: number;\n}\n\n/**\n * Resolved session connect options with all values populated.\n * @internal\n */\nexport interface ResolvedSessionConnectOptions {\n  sttConnOptions: APIConnectOptions;\n  llmConnOptions: APIConnectOptions;\n  ttsConnOptions: APIConnectOptions;\n  maxUnrecoverableErrors: number;\n}\n\nexport const DEFAULT_SESSION_CONNECT_OPTIONS: ResolvedSessionConnectOptions = {\n  sttConnOptions: DEFAULT_API_CONNECT_OPTIONS,\n  llmConnOptions: DEFAULT_API_CONNECT_OPTIONS,\n  ttsConnOptions: DEFAULT_API_CONNECT_OPTIONS,\n  maxUnrecoverableErrors: 3,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBO,MAAM,8BAAiD;AAAA,EAC5D,UAAU;AAAA,EACV,iBAAiB;AAAA,EACjB,WAAW;AACb;AAOO,SAAS,iBAAiB,aAAgC,YAA4B;AAC3F,MAAI,eAAe,GAAG;AACpB,WAAO;AAAA,EACT;AACA,SAAO,YAAY;AACrB;AA4BO,MAAM,kCAAiE;AAAA,EAC5E,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,wBAAwB;AAC1B;","names":[]}